{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../controle-editora.service\";\nimport * as i2 from \"../controle-livro.service\";\nimport * as i3 from \"@angular/common\";\nfunction LivroListaComponent_tr_19_li_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const autor_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(autor_r3);\n  }\n}\nfunction LivroListaComponent_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"ul\");\n    i0.ɵɵtemplate(9, LivroListaComponent_tr_19_li_9_Template, 2, 1, \"li\", 3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\")(13, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function LivroListaComponent_tr_19_Template_button_click_13_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const livro_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.excluir(livro_r1.codigo));\n    });\n    i0.ɵɵtext(14, \"Excluir\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const livro_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(livro_r1.codigo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", livro_r1.titulo, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.obterNome(livro_r1.codEditora));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", livro_r1.autores);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(livro_r1.resumo);\n  }\n}\nclass LivroListaComponent {\n  constructor(servEditora, servLivros) {\n    this.servEditora = servEditora;\n    this.servLivros = servLivros;\n    this.editoras = [];\n    this.livros = [];\n  }\n  ngOnInit() {\n    this.controleLivros.obterTodos().then(livros => this.livros = livros);\n  }\n  excluir(codigo) {\n    this.controleLivros.excluir(codigo).then(() => this.controleLivros.obterTodos()).then(livros => this.livros = livros);\n  }\n  incluir() {\n    this.controleLivros.incluir(this.livro).then(() => this.router.navigateByUrl('/lista'));\n  }\n}\nLivroListaComponent.ɵfac = function LivroListaComponent_Factory(t) {\n  return new (t || LivroListaComponent)(i0.ɵɵdirectiveInject(i1.ControleEditoraService), i0.ɵɵdirectiveInject(i2.ControleLivrosService));\n};\nLivroListaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LivroListaComponent,\n  selectors: [[\"app-livro-lista\"]],\n  decls: 20,\n  vars: 1,\n  consts: [[1, \"container\"], [1, \"my-4\"], [1, \"table\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-danger\", 3, \"click\"]],\n  template: function LivroListaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"main\", 0)(1, \"h1\", 1);\n      i0.ɵɵtext(2, \"Lista de Livros\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"table\", 2)(4, \"thead\")(5, \"tr\")(6, \"th\");\n      i0.ɵɵtext(7, \"C\\u00F3digo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"th\");\n      i0.ɵɵtext(9, \"T\\u00EDtulo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"th\");\n      i0.ɵɵtext(11, \"Editora\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\");\n      i0.ɵɵtext(13, \"Autores\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\");\n      i0.ɵɵtext(15, \"Resumo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\");\n      i0.ɵɵtext(17, \"A\\u00E7\\u00F5es\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(18, \"tbody\");\n      i0.ɵɵtemplate(19, LivroListaComponent_tr_19_Template, 15, 5, \"tr\", 3);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(19);\n      i0.ɵɵproperty(\"ngForOf\", ctx.livros);\n    }\n  },\n  dependencies: [i3.NgForOf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { LivroListaComponent };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","autor_r3","ɵɵtemplate","LivroListaComponent_tr_19_li_9_Template","ɵɵlistener","LivroListaComponent_tr_19_Template_button_click_13_listener","restoredCtx","ɵɵrestoreView","_r5","livro_r1","$implicit","ctx_r4","ɵɵnextContext","ɵɵresetView","excluir","codigo","ɵɵtextInterpolate1","titulo","ctx_r0","obterNome","codEditora","ɵɵproperty","autores","resumo","LivroListaComponent","constructor","servEditora","servLivros","editoras","livros","ngOnInit","controleLivros","obterTodos","then","incluir","livro","router","navigateByUrl","ɵɵdirectiveInject","i1","ControleEditoraService","i2","ControleLivrosService","selectors","decls","vars","consts","template","LivroListaComponent_Template","rf","ctx","LivroListaComponent_tr_19_Template"],"sources":["C:\\Users\\groun\\Desktop\\Trabalho 5\\clientes\\livros-angular\\src\\app\\livro-lista\\livro-lista.component.ts","C:\\Users\\groun\\Desktop\\Trabalho 5\\clientes\\livros-angular\\src\\app\\livro-lista\\livro-lista.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Livro } from '../livro';\nimport { Editora } from '../editora';\nimport { ControleEditoraService } from '../controle-editora.service';\nimport { ControleLivrosService } from '../controle-livro.service';\n\n@Component({\n  selector: 'app-livro-lista',\n  templateUrl: './livro-lista.component.html',\n  styleUrls: ['./livro-lista.component.css']\n})\n\n\nexport class LivroListaComponent implements OnInit {\n  public editoras: Array<Editora> = [];\n  public livros: Array<Livro> = [];\n\n  constructor(private servEditora: ControleEditoraService, private servLivros: ControleLivrosService) { }\n\n  ngOnInit(): void {\n    this.controleLivros.obterTodos()\n      .then(livros => this.livros = livros);\n  }  \n\n  excluir(codigo: string): void {\n    this.controleLivros.excluir(codigo)\n      .then(() => this.controleLivros.obterTodos())\n      .then(livros => this.livros = livros);\n  }  \n\n  incluir(): void {\n    this.controleLivros.incluir(this.livro)\n      .then(() => this.router.navigateByUrl('/lista'));\n  }\n}  ","<main class=\"container\">\n    <h1 class=\"my-4\">Lista de Livros</h1>\n    <table class=\"table\">\n    <thead>\n        <tr>\n        <th>Código</th>\n        <th>Título</th>\n        <th>Editora</th>\n        <th>Autores</th>\n        <th>Resumo</th>\n        <th>Ações</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr *ngFor=\"let livro of livros\">\n        <td>{{ livro.codigo }}</td>\n        <td>\n            {{ livro.titulo }}\n        </td>\n        <td>{{ obterNome(livro.codEditora) }}</td>\n        <td>\n            <ul>\n              <li *ngFor=\"let autor of livro.autores\">{{ autor }}</li>\n            </ul>\n        </td>\n        <td>{{ livro.resumo }}</td>\n        <td>\n            <button class=\"btn btn-danger\" (click)=\"excluir(livro.codigo)\">Excluir</button>\n        </td>\n        </tr>\n    </tbody>\n    </table>\n</main>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}